use blood_camp;

DROP TABLE PATIENT; 
DROP TABLE PATIENT_BLOOD;
DROP TABLE PATIENT_UNITS;
DROP TABLE PATIENT_TIME;
DROP TABLE PATIENT_PRIORITY;
DROP TABLE DONOR;
DROP TABLE DONOR_BLOOD;
DROP TABLE DONOR_RAREBLOOD;
DROP TABLE DONOR_UNITS;
DROP TABLE BLOODBANK;
DROP TABLE COUN;

CREATE TABLE PATIENT(
PATIENT_ID INT PRIMARY KEY,
PATIENT_NAME VARCHAR(100),
PATIENT_DISEASE VARCHAR(100),
DATE_OF_ADMISSION TIMESTAMP DEFAULT CURRENT_TIMESTAMP) ENGINE=INNODB;

INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('1','HARISH','ANEMIA');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('2','VISHNU KUMAR','BLOOD CANCER');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('3','VISHNU KARTHICK','HAEMOPHILA');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('4','ANAND','THROMBOCYTOPENIA');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('5','VARMA','LIVER DISEASE');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('6','AJITH','KIDNEY DISEASE');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('7','TOM','SICKLE CELL DISEASE');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('8','RAJ','ANEMIA');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('9','KUMAR','HAEMOPHILA');
INSERT INTO PATIENT (PATIENT_ID,PATIENT_NAME,PATIENT_DISEASE)VALUES('10','RAHUL','SICKLE CELL DISEASE');

CREATE TABLE PATIENT_BLOOD(
PATIENT_ID INT NOT NULL REFERENCES PATIENT(PATIENT_ID),
BLOOD_GROUP VARCHAR(100))ENGINE=INNODB;

INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('1','A+ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('2','O+ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('3','B+ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('4','AB-ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('5','A-ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('6','B-ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('7','AB+ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('8','O-ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('9','A+ve');
INSERT INTO PATIENT_BLOOD (PATIENT_ID,BLOOD_GROUP)VALUES('10','O+ve');

CREATE TABLE PATIENT_UNITS(
PATIENT_ID INT NOT NULL REFERENCES PATIENT(PATIENT_ID),
UNITS_REQUIRED INT)ENGINE=INNODB;

INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('1','2');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('2','3');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('3','1');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('4','2');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('5','4');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('6','7');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('7','6');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('8','1');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('9','9');
INSERT INTO PATIENT_UNITS (PATIENT_ID,UNITS_REQUIRED)VALUES('10','2');

CREATE TABLE PATIENT_TIME(
PATIENT_ID INT NOT NULL REFERENCES PATIENT(PATIENT_ID),
TIME_LIMIT VARCHAR(100) )ENGINE=INNODB;

INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('1','within 1 hr');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('2','within 1 week');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('3','within 1 month');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('4','within 1 hr');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('5','within 1 week');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('6','within 1 hr');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('7','within 1 month');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('8','within 1 hr');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('9','within 1 week');
INSERT INTO PATIENT_TIME (PATIENT_ID,TIME_LIMIT)VALUES('10','within 1 hr');

CREATE TABLE PATIENT_PRIORITY(
PATIENT_ID INT NOT NULL REFERENCES PATIENT(PATIENT_ID),
PRIORITY_ VARCHAR(100) )ENGINE=INNODB;

INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('1','HIGH');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('2','MEDIUM');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('3','LOW');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('4','HIGH');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('5','MEDIUM');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('6','HIGH');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('7','LOW');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('8','HIGH');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('9','MEDIUM');
INSERT INTO PATIENT_PRIORITY (PATIENT_ID,PRIORITY_)VALUES('10','HIGH');

CREATE TABLE DONOR(
DONOR_ID VARCHAR(45) PRIMARY KEY,
DONOR_NAME VARCHAR(100),
DONOR_ADDRESS VARCHAR(100),
DONOR_MEDICAL_REPORT VARCHAR(100),
DONOR_NUMBER BIGINT,
BLOOD_BANK_ID INT  NOT NULL REFERENCES BLOODBANK(BLOOD_BANK_ID),
DATE_OF_ADMISSION TIMESTAMP DEFAULT CURRENT_TIMESTAMP)ENGINE=INNODB;

INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('1','PRAVEEN','651, ANNA STREET, EB COLONY, THANJAVUR','YES','9943679364','2');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('2','MADHAVAN','67, SUBRAMANIYABURAM, 4th CROSS, KARUR','YES','9943689765','3');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('3','NITHILA','51, ANNA NAGAR, MADURAI','YES','9364669943','1');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('4','RISHI','1, MICHAEL STREET, THOOTHUKUDI','YES','8675434567','2');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('5','JAISON','77, HUSSAIN NAGAR, TRICHY','YES','7896512345','3');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('6','AISHWARYA','11, KEEZHPAKKAM, CHENNAI','YES','8097680976','1');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('7','NITIN','34, ADAYAR, CHENNAI','YES','9364779364','2');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('8','SANTHOSH','69, KALYANAM STREET, KANCHIPURAM','YES','9943879389','3');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('9','BHAALA','99, ECR ROAD, CHENNAI','YES','8843679377','3');
INSERT INTO DONOR (DONOR_ID,DONOR_NAME,DONOR_ADDRESS,DONOR_MEDICAL_REPORT,DONOR_NUMBER,BLOOD_BANK_ID)
			VALUES('10','KEERTHI','789, KARTHICK STREET, SALEM','YES','7743679388','2');


CREATE TABLE DONOR_BLOOD(
DONOR_ID VARCHAR(45) NOT NULL REFERENCES DONOR(DONOR_ID),
BLOOD_GROUP VARCHAR(100))ENGINE=INNODB;

INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('1','O+ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('2','A+ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('3','O-ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('4','B+ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('5','AB+ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('6','A-ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('7','B-ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('8','AB-ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('9','O+ve');
INSERT INTO DONOR_BLOOD(DONOR_ID,BLOOD_GROUP) VALUES ('10','A+ve');

CREATE TABLE DONOR_RAREBLOOD(
DONOR_ID VARCHAR(45)  NOT NULL REFERENCES DONOR(DONOR_ID),
RARE_BLOOD VARCHAR(100) )ENGINE=INNODB;

INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('1','NO');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('2','NO');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('3','YES');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('4','NO');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('5','YES');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('6','NO');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('7','NO');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('8','YES');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('9','NO');
INSERT INTO DONOR_RAREBLOOD(DONOR_ID,RARE_BLOOD) VALUES ('10','NO');

CREATE TABLE DONOR_UNITS(
DONOR_ID VARCHAR(45)  NOT NULL REFERENCES DONOR(DONOR_ID),
UNITS_DONATED INT )ENGINE=INNODB;

INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('1','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('2','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('3','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('4','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('5','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('6','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('7','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('8','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('9','1');
INSERT INTO DONOR_UNITS(DONOR_ID,UNITS_DONATED) VALUES ('10','1');

CREATE TABLE COUN
(
DONOR_ID VARCHAR(100)  NOT NULL REFERENCES DONOR(DONOR_ID),
COUN INT DEFAULT 1
)ENGINE = INNODB;

INSERT INTO COUN(DONOR_ID) VALUES ('1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('2','1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('3','1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('4','1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('5','1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('6','1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('7','1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('8','1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('9','1');
INSERT INTO COUN(DONOR_ID,COUN) VALUES ('10','1');

CREATE TABLE BLOODBANK(
BLOOD_BANK_ID INT PRIMARY KEY,
BLOOD_BANK_NAME VARCHAR(100),
BLOOD_BANK_ADDRESS VARCHAR(100),
CONTACT_NUMBER BIGINT)ENGINE=INNODB;

INSERT INTO BLOODBANK(BLOOD_BANK_ID,BLOOD_BANK_NAME,BLOOD_BANK_ADDRESS,CONTACT_NUMBER)
		VALUES('1','Sanjeevani Blood Centre','110, Nishigandh Vivekanand Nagar, Near S.G Vidyalay,Kopargaon-423601', '7894562123');
INSERT INTO BLOODBANK(BLOOD_BANK_ID,BLOOD_BANK_NAME,BLOOD_BANK_ADDRESS,CONTACT_NUMBER)
		VALUES('2','Rotary Blood Centre','Acharya Anand Rushiji Bhavan, Near Water Tank, Nagar Manmad Road, A/P.Rahuri Dist-Ahmednagar',7458623412);
INSERT INTO BLOODBANK(BLOOD_BANK_ID,BLOOD_BANK_NAME,BLOOD_BANK_ADDRESS,CONTACT_NUMBER)
		VALUES('3','Arpan Blood Centre','First Floor, H.No.1542/43, above Bank of Badoda Swatantrya Chowk, Sangamner, Ahmednagar','1253572341');

SELECT * FROM DONOR,DONOR_BLOOD,DONOR_UNITS
WHERE DONOR.DONOR_ID = DONOR_BLOOD.DONOR_ID AND DONOR_BLOOD.DONOR_ID = DONOR_UNITS.DONOR_ID;

SELECT DONOR.DONOR_ID, DONOR.DONOR_NAME, DONOR.DONOR_NUMBER, PATIENT.PATIENT_NAME,PATIENT_BLOOD.BLOOD_GROUP FROM 
DONOR,PATIENT,DONOR_BLOOD INNER JOIN PATIENT_BLOOD ON 
PATIENT_BLOOD.BLOOD_GROUP = DONOR_BLOOD.BLOOD_GROUP OR DONOR_BLOOD.BLOOD_GROUP = 'O +ve'
WHERE DONOR.DONOR_MEDICAL_REPORT = 'Yes' AND DONOR.DONOR_ID = DONOR_BLOOD.DONOR_ID AND PATIENT.PATIENT_ID = PATIENT_BLOOD.PATIENT_ID
ORDER BY DONOR.DONOR_ID;